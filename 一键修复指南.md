# 🔧 一键修复指南

## 问题

保存权限时出现错误：`关联数据不存在 (FOREIGN_KEY_VIOLATION)`

## 原因

数据库中缺少前端定义的权限ID

## 解决方案（只需3步）

### 第1步：打开 Supabase

1. 登录 [Supabase Dashboard](https://supabase.com/dashboard)
2. 选择你的项目
3. 点击左侧菜单的 "SQL Editor"

### 第2步：运行修复脚本

1. 打开项目中的文件：`scripts/EMERGENCY_FIX.sql`
2. **复制全部内容**
3. 粘贴到 Supabase SQL Editor 中
4. 点击右下角的 "Run" 按钮
5. 等待执行完成（约30秒）

### 第3步：刷新页面

1. 回到浏览器
2. 按 `Ctrl + F5` (Windows) 或 `Cmd + Shift + R` (Mac) 强制刷新
3. 重新尝试保存权限

## 完成！

现在应该可以正常保存权限了。

## 如果还是不行

请截图以下内容并联系技术支持：

1. Supabase SQL Editor 的执行结果
2. 浏览器控制台（F12）的错误信息
3. 你尝试设置的权限

---

**提示**：这个脚本是安全的，它只会添加缺失的权限，不会删除任何现有数据。
