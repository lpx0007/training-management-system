# 撤销数据管理模块 - 整合到各页面

**更新日期**: 2025-11-10  
**状态**: ✅ 已完成

## 变更背景

根据用户反馈，独立的数据管理模块操作不便，用户需要在不同页面之间切换才能进行数据导入导出。为了提升用户体验，决定撤销独立的数据管理模块，将导入导出功能整合到对应的功能页面中。

## 变更内容

### 1. 移除数据管理菜单项
- **文件**: `src/constants/menuFeatures.ts`
- 删除了 `data_management` 菜单项定义
- 调整了其他菜单项的显示顺序
- 从 `manager` 角色的默认功能面板中移除 `data_management`

### 2. 移除数据管理路由
- **文件**: `src/App.tsx`
- 删除了 `/data-management` 路由配置
- 删除了 DataManagement 组件导入

### 3. 功能整合到各页面

#### 客户管理页面
- **文件**: `src/pages/CustomerManagement.tsx`
- 在页面顶部按钮区域添加：
  - 导入按钮（绿色）- 批量导入客户数据
  - 导出按钮（紫色）- 导出客户数据
- 使用 `PermissionGuard` 进行权限控制

#### 培训管理页面
- **文件**: `src/pages/TrainingManagement.tsx`
- 在页面顶部按钮区域添加：
  - 导入按钮（绿色）- 批量导入培训计划
  - 导出按钮（紫色）- 导出培训数据
- 按钮与原有的"添加培训"按钮并排显示

### 4. 待处理页面
以下页面也需要添加对应的导入导出功能：
- [ ] 专家管理 - 导入导出专家信息
- [ ] 业务员管理 - 导入导出业务员信息
- [ ] 招商简章管理 - 导入导出招商简章
- [ ] 销售追踪 - 导出业绩数据

## 用户体验改进

### 改进前
1. 需要进入独立的数据管理页面
2. 在一个页面中管理所有类型的数据
3. 操作路径长，需要频繁切换页面

### 改进后
1. 在对应功能页面直接操作
2. 更直观，用户在管理某类数据时可以直接导入导出
3. 减少页面切换，提高工作效率

## 权限控制

导入导出功能仍然使用原有的权限系统：
- `customer_import` - 客户导入权限
- `customer_export` - 客户导出权限
- `training_import` - 培训导入权限
- `training_export` - 培训导出权限
- 等等...

## 实施状态

- [x] 移除数据管理菜单项
- [x] 移除数据管理路由
- [x] 客户管理页面添加导入导出
- [x] 培训管理页面添加导入导出
- [ ] 专家管理页面添加导入导出
- [ ] 业务员管理页面添加导入导出
- [ ] 招商简章页面添加导入导出
- [ ] 销售追踪页面添加导出
- [ ] 实现具体的导入导出功能逻辑

## 注意事项

1. 目前导入导出按钮显示"功能正在开发中"提示
2. 需要后续开发具体的导入导出功能实现
3. 保留了原有的数据管理服务和组件，可以复用到各页面
4. 权限控制保持不变，仍使用 PermissionGuard

## 相关文件

### 已删除/移除引用
- `/data-management` 路由
- DataManagement 组件引用

### 已修改
- `src/constants/menuFeatures.ts`
- `src/App.tsx`
- `src/pages/CustomerManagement.tsx`
- `src/pages/TrainingManagement.tsx`

### 保留（可复用）
- `src/pages/DataManagement.tsx` - 可作为参考
- `src/lib/services/dataManagementService.ts` - 数据服务
- `src/components/DataManagement/*` - UI 组件
- `src/hooks/useDataManagementPermissions.ts` - 权限钩子
